utiliy function for verion 3